---
import "../styles/global.css";
import { projects } from "../content/projects.js";
import { teaching } from "../content/teaching.js";
import { logbook } from "../content/logbook.js";
---

<html lang="sk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ratrak.sk</title>
  </head>

  <body>
    <main class="container">
      <header class="hero">
		<h1>
			I build software.<br />
			I teach kids to build things too.
		</h1>

		<p class="lead">Backend-first brain. Minimal UI. Pixel ratrak companion.</p>

		<div class="card">
			<strong>Next:</strong>
			<span class="muted"> Ratrak sprite states + drawer + bubbles</span>
		</div>
	</header>


    <div class="stack">
		<section id="about" class="section">
			<h2>About </h2>
			<p>Backend developer. Minimal UI enjoyer. Ratrak is my pixel companion.</p>
			</section>

			<section id="projects" class="section">
			<h2>Projects</h2>

			<div class="grid cols-2">
				{projects.map((p) => (
				<article class="item">
					<div class="item-title">
					<strong>{p.title}</strong>
					<span class="pill">{p.tag}</span>
					</div>
					<p>{p.description}</p>

					{p.links && (
					<div class="meta">
						{p.links.map((l) => (
						<a href={l.href}>{l.label}</a>
						))}
					</div>
					)}
				</article>
				))}
			</div>
			</section>


			<section id="teaching" class="section">
			<h2>Teaching</h2>

			<div class="grid">
				{teaching.map((t) => (
				<article class="item">
					<div class="item-title">
					<strong>{t.title}</strong>
					<span class="pill">{t.tag}</span>
					</div>
					<p>{t.description}</p>

					{t.meta && (
					<div class="meta">
						{t.meta.map((m) => (
						<span>{m}</span>
						))}
					</div>
					)}
				</article>
				))}
			</div>
			</section>


			<section id="logbook" class="section">
			<h2>Logbook</h2>

			<div class="grid">
				{logbook.map((e) => (
				<article class="item">
					<div class="item-title">
					<strong>{e.title}</strong>
					<span class="pill">{e.tag}</span>
					</div>
					<p>{e.description}</p>
				</article>
				))}
			</div>
			</section>


	</div>


	  <div style="height: 120vh;"></div>
    </main>

    <!-- RATRAK BUTTON -->
    <button
      id="ratrakBtn"
      class="ratrak-btn"
      data-shift="false"
      aria-label="Open Ratrak menu"
    >
      <div class="ratrak-sprite">
        <img id="ratrakSprite" src="/ratrak/idle.png" width="48" height="48" alt="" />
      </div>
    </button>

    <!-- BACKDROP -->
    <div id="ratrakBackdrop" class="ratrak-backdrop" data-open="false" aria-hidden="true"></div>

    <!-- DRAWER -->
    <aside
      id="ratrakDrawer"
      class="ratrak-drawer"
      data-open="false"
      aria-hidden="true"
      aria-label="Ratrak menu"
    >
      <div class="drawer-title">
        <div>
          <strong>ratrak</strong> <small>v0.1</small>
        </div>
        <span class="kbd-hint">Esc</span>
      </div>

      <p style="margin: 0 0 10px 0;">Quick shortcuts. Click outside to close.</p>

      <nav class="drawer-nav">
        <a class="drawer-link" href="#about"><span>about</span><span class="kbd-hint">A</span></a>
        <a class="drawer-link" href="#projects"><span>projects</span><span class="kbd-hint">P</span></a>
        <a class="drawer-link" href="#teaching"><span>teaching</span><span class="kbd-hint">T</span></a>
        <a class="drawer-link" href="#logbook"><span>logbook</span><span class="kbd-hint">L</span></a>
      </nav>
    </aside>

    <!-- BUBBLE -->
    <div id="ratrakBubble" class="ratrak-bubble" data-show="false" aria-hidden="true">
      <code id="ratrakBubbleText">&gt; terrain stable</code>
    </div>

    <script>
      import { initRatrak } from "../scripts/ratrak.js";
      import { ratrakQuotes } from "../content/ratrak-quotes.js";
      import { ratrakSprites } from "../content/ratrak-sprites.js";

      initRatrak({
        quotes: ratrakQuotes,
        sprites: ratrakSprites,
      });
    </script>


  </body>
</html>
