---
import BaseLayout from "../layouts/BaseLayout.astro";
import { projects } from "../content/projects.js";
import { teaching } from "../content/teaching.js";
import { logbook } from "../content/logbook.js";
import { websites } from "../content/websites.js";
---

<BaseLayout title="ratrak.sk" lang="en">
  <main class="container">
    <header class="hero">
      <h1>
        Software development.<br />
        Backend-first, curiosity-driven.
      </h1>

      <p class="lead">
        Web applications, automation, and systems that are meant to last.
      </p>

      <div class="card">
        <strong>Links:</strong>
        <span class="muted">GitHub & LinkedIn in the menu</span>
      </div>
    </header>

    <div class="stack">
      <section id="about" class="section">
        <h2>About</h2>

        <p>I build web applications and software with a strong backend focus.</p>

        <p>
          I also work across the stack when it makes sense â€” including frontend
          and WordPress projects. I enjoy trying new tools, building automations,
          and improving existing systems.
        </p>
      </section>

      <section id="projects" class="section" data-ratrak="projects">
        <h2>Projects</h2>

        <div class="grid cols-2">
          {projects.map((p) => (
            <article class="item">
              <div class="item-title">
                <strong>{p.title}</strong>
                <span class="pill">{p.tag}</span>
              </div>

              <p>{p.description}</p>

              {p.links && (
                <div class="meta">
                  {p.links.map((l) =>
                    l.external ? (
                      <a href={l.href} target="_blank" rel="noreferrer">
                        {l.label}
                      </a>
                    ) : (
                      <a href={l.href}>{l.label}</a>
                    )
                  )}
                </div>
              )}
            </article>
          ))}
        </div>
      </section>

      <section id="websites" class="section" data-ratrak="websites">
        <h2>Websites</h2>

        <div class="grid cols-2">
          {websites.map((w) => (
            <article class="item">
              <div class="item-title">
                <strong>{w.title}</strong>
                <span class="pill">{w.tag}</span>
              </div>

              <p>{w.description}</p>

              {w.links && (
                <div class="meta">
                  {w.links.map((l) =>
                    l.external ? (
                      <a href={l.href} target="_blank" rel="noreferrer">
                        {l.label}
                      </a>
                    ) : (
                      <a href={l.href}>{l.label}</a>
                    )
                  )}
                </div>
              )}
            </article>
          ))}
        </div>
      </section>

      <section id="teaching" class="section" data-ratrak="teaching">
        <h2>Teaching</h2>

        <div class="meta" style="margin-bottom: 12px;">
          <a href="/teaching">open teaching page</a>
        </div>

        <div class="grid">
          {teaching.map((t) => (
            <article class="item">
              <div class="item-title">
                <strong>{t.title}</strong>
                <span class="pill">{t.tag}</span>
              </div>

              <p>{t.description}</p>

              {t.meta && (
                <div class="meta">
                  {t.meta.map((m) => (
                    <span>{m}</span>
                  ))}
                </div>
              )}
            </article>
          ))}
        </div>
      </section>

      <section id="logbook" class="section" data-ratrak="logbook">
        <h2>Logbook</h2>

        <div class="meta" style="margin-bottom: 12px;">
          <a href="/logbook">open logbook</a>
        </div>

        <div class="grid">
          {logbook.map((e) => (
            <article class="item">
              <div class="item-title">
                <strong>{e.title}</strong>
                <span class="pill">{e.tag}</span>
              </div>

              <p>{e.description}</p>
            </article>
          ))}
        </div>
      </section>
    </div>
  </main>
</BaseLayout>
